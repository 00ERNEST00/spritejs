(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{511:function(n,t,e){"use strict";e.r(t),t.default="const width = 1000,\n  height = 750;\n\nconst paper = new spritejs.Scene('#paper', {\n  viewport: ['auto', 'auto'],\n  resolution: [width, height],\n  stickMode: 'width',\n  stickExtend: true,\n});\n\n\nlet centered;\nconst projection = d3.geoAlbersUsa()\n  .scale(1070)\n  .translate([width / 2, height / 2]);\n\nconst path = d3.geoPath()\n  .projection(projection);\n\nconst layer = paper.layer('fglayer', {\n  handleEvent: true,\n});\n\nlayer.canvas.style.backgroundColor = '#8DBF59';\n\nd3.json('https://s4.ssl.qhres.com/static/4e8ebcccf5b5ea78.json', (error, us) => {\n  if(error) throw error;\n\n  d3.select(layer).selectAll('path')\n    .data(topojson.feature(us, us.objects.states).features)\n    .enter()\n    .append('path')\n    .attr('d', path)\n    .attr('strokeColor', '#618F4A')\n    .attr('fillColor', '#70A556')\n    .on('click', (d) => {\n      const paths = d3.event.targetPaths;\n\n      if(paths.length) {\n        clicked(d);\n      }\n    });\n});\n\nfunction clicked(d) {\n  // If the click was on the centered state or the background, re-center.\n  // Otherwise, center the clicked-on state.\n  let translate = [0, 0],\n    centroid = [0, 0];\n\n  if(d && centered !== d) {\n    centroid = path.centroid(d);\n    translate = projection.translate();\n  }\n\n  d3.select(layer).selectAll('path')\n    .transition()\n    .duration(750)\n    .attr('pos', [translate[0] - centroid[0],\n      translate[1] - centroid[1]]);\n}\n"}}]);